<div>
	<select [(ngModel)]="mode" (change)="onModeChange($event)">
		<option value="point">{{ "pointCoordinates" | transloco }}</option>
		<option value="line">{{ "measurementLine" | transloco }}</option>
		<option value="polygon">{{ "measurementPolygon" | transloco }}</option>
		<option value="circle">{{ "measurementCircle" | transloco }}</option>
	</select>
</div>

<ng-container [ngSwitch]="mode" changeMode="onModeChange()">
	<ng-container *ngSwitchCase="'point'">
		<app-measurement-point
			[map]="map"
			[vectorSource]="vectorSource"
			(pointsChange)="onPointsChange($event)"
		></app-measurement-point>
	</ng-container>
	<ng-container *ngSwitchCase="'line'">
		<app-measurement-line
			[map]="map"
			[vectorSource]="vectorSource"
			(linesChange)="onLinesChange($event)"
		></app-measurement-line>
	</ng-container>
	<ng-container *ngSwitchCase="'polygon'">
		<app-measurement-polygon
			[map]="map"
			[vectorSource]="vectorSource"
			(polygonsChange)="onPolygonsChange($event)"
		></app-measurement-polygon>
	</ng-container>
	<ng-container *ngSwitchCase="'circle'">
		<app-measurement-circle
			[map]="map"
			[vectorSource]="vectorSource"
			(circlesChange)="onCirclesChange($event)"
		></app-measurement-circle>
	</ng-container>
</ng-container>
<div class="measurement-result">
	<div *ngFor="let measurement of allMeasurements">
		<ng-container *ngIf="measurement.coordinates">
			{{ measurement.id }} X: {{ measurement.coordinates[0] }}, Y:
			{{ measurement.coordinates[1] }}
			<span *ngIf="measurement.coordinates[2]">
				Z: {{ measurement.coordinates[2] }}</span
			>
		</ng-container>
		{{ measurement.area }}
		{{ measurement.perimeter }}
		{{ measurement.length }}
		{{ measurement.radius }}
		<button type="button" (click)="removeMeasurement(measurement)">
			{{ "delete" | transloco }}
		</button>
	</div>
</div>

<button type="button" (click)="removeAllMeasurement()">Очистить</button>
